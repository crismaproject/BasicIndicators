<!DOCTYPE html>
<!--
/home/peter/public_html/wps/indicators.html
Peter Kutschera, Wed Sep 11 12:43:30 2013$
$Id$
Time-stamp: "2014-02-10 14:57:02 peter"
Peter.Kutschera@ait.ac.at   (AIT - Austrian Institute of Technology)
-->

<!--
    Copyright (C) 2014  AIT / Austrian Institute of Technology
    http://www.ait.ac.at
 
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as
    published by the Free Software Foundation, either version 2 of the
    License, or (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
 
    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see http://www.gnu.org/licenses/gpl-2.0.html
-->

<html>
<head>
<meta name="Author" content="Peter.Kutschera@ait.ac.at">
<title>Indicators test-page</title>
<style type="text/css">
 <!--
  .big { font-size:20pt }
 -->
</style>
<script src="jquery-1.10.2.min.js"></script>
<script type="text/javascript">
  $(document).ready(function(){
    $("#describe").click(function(){
     var indicator = $("#indicator").val();
     var url = "http://crisma.ait.ac.at/indicators/pywps.cgi?service=WPS&request=DescribeProcess&version=1.0.0&identifier=" + indicator;
     window.open (url); 
    });
    $("#execute").click(function(){
     var indicator = $("#indicator").val();
     var wsid = $("#wsid").val();
     var url = "http://crisma.ait.ac.at/indicators/pywps.cgi?service=WPS&request=Execute&version=1.0.0&identifier=" + indicator + "&datainputs=WorldStateId=" + wsid;
     window.open (url); 
    });
  });
</script>
</head>
<body>
<H1><center>
<a href="http://www.crismaproject.eu/">CRISMA</a> Indicator Test Page
</center></H1>
<hr>
<p>

This example asks the Pilot C Object-Of-Interest WorldState Repository (OOI-WSR) server for entities for a given WorldState.
The indicator is calculated for this WorldState.
The result is stored (in the moment in the same WorldState repository) and the URI of the result is returned by the WPS

<p>
<h3>Workflow (For the indicator, but it is the same for most external simulation models):</h3>
<ol>
<li> Request to indicator service (PyWPS in this case) to calculate an indicater for a particular WorldState.
<li> To calculate the indicator input data is needed. But only the indicator service knows which one is needed. So instead of pushing the input data (well, all data!) to the model the model asks for (and only for) whatever it needs (from OOI-WSR using CRISMA REST interface)
<li> Model calculates indicator value and stores it in OOI-WSR
<li> Model (WPS) returns URI to access result
</ol>

More details can be found in <a href="https://crisma-cat.ait.ac.at/component/lifeIndicator">the CRISMA catalogue</a>.

<h3>Access to the indicators (WPS):</h3>
<ol>
<li> <a href='http://crisma.ait.ac.at/indicators/pywps.cgi?service=WPS&request=GetCapabilities'>GetCapabilities</a> describes the WPS instance and lists all models (e.g. indicators) available
  <br> Indicator to use: 
   <select id='indicator'>
     <option>lifeIndicator</option>
     <option selected>deathsIndicator</option>
     <option>seriouslyDeterioratedIndicator</option>
     <option>improvedIndicator</option>
   </select>
<li> <button id='describe'>DescribeProcess</button> delivers a description of the selecteIndicator process (indicator)
<li> 
WordStateId=
<input type="text" id="wsid" value="1"> 
<br>
<button id='execute'>Execute</button> the selected indicator process for the given WorldState
</ol>


Execute-example: <a href='http://crisma.ait.ac.at/indicators/pywps.cgi?service=WPS&request=Execute&version=1.0.0&identifier=lifeIndicator&datainputs=WorldStateId=1'>http://crisma.ait.ac.at/indicators/pywps.cgi?service=WPS&request=Execute&version=1.0.0&identifier=lifeIindicator&datainputs=WorldStateId=1</a>

<p>

See <a href='http://crisma-ooi/swaggerui/'>WorldState repository</a> for valid WorldState URIs.

<p>

See <a href="http://wiki.rsg.pml.ac.uk/pywps/Main_Page">PyWPS WIKI</a> for details about the used WPS server.

<hr>
<a href='http://www.ait.ac.at/meta-menu/impressum/' title='Impressum', target="Impressum">Impressum</a>
<p>
<div style="font-size:12px;">
Request from: <!--#echo var="REMOTE_ADDR" -->
<br>
Server instance: <!--#echo var="SERVER_ADDR" -->
<br>
Last update: <a href="mailto:Peter.Kutschera@ait.ac.at">Peter Kutschera</a>, Seibersdorf, 2014-02-06
</div>

</body>
</html>


